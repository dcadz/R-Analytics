---
title: "Sentiment-Analysis"
author: "Cadiz, Guion, Jacildo"
date: "2024-12-12"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
#LOAD PACKAGES 
```{r}
library(dplyr)
library(tm)
library(tidytext)
library(lubridate)


tweetsDF <- read.csv("tweetsDF.csv")
```
# DATA CLEANING
```{r}
tweetsDF$text <- iconv(tweetsDF$text, from = "UTF-8", to = "ASCII//TRANSLIT", sub = "")
tweetsDF$text <- tolower(tweetsDF$text)
tweetsDF$text <- gsub("https\\S+", "", tweetsDF$text)
tweetsDF$text <- gsub("#", "", gsub("\n", " ", tweetsDF$text))
tweetsDF$text <- gsub("([@?]\\S+)", "", tweetsDF$text)
tweetsDF$text <- gsub("\\?", "", tweetsDF$text)
tweetsDF$text <- gsub("\\b\\d{2}\\.\\d{2}\\.\\d{4}\\b", "", tweetsDF$text)
tweetsDF$text <- gsub("<a href=httptwitter.comdownloadiphone rel=nofollow>twitter for iphone<a>", "", tweetsDF$text)
tweetsDF$text <- gsub("<a href=([^>]*?) rel=nofollow>([^<]*?)<a>", "", tweetsDF$text)
tweetsDF$text <- gsub("<a href=httptwitter.comdownloadandroid rel=nofollow>twitter for android<a>", "", tweetsDF$text)
tweetsDF$text <- gsub("<a href= rel=nofollow>twitter web app<a>", "", tweetsDF$text)
tweetsDF$text <- gsub("30102022", "", tweetsDF$text)
tweetsDF$text <- gsub("\\s+", " ", tweetsDF$text)
```
#TREND ANALYSIS
# For our trend analysis, we used the 'created' column and the number of tweets to generate a line graph. The 'created' column provides the date and time each tweet was posted. Our goal was to identify periods of peak activity and explore the potential reasons behind these trends. We also plan to search for articles online to investigate what might have caused the spikes in tweet activity after the tragedy.
```{r}
library(ggplot2)
library(lubridate)
library(dplyr)

file_path <- "tweetsDF.csv"
tweets_df <- read.csv(file_path)

tweets_df$created <- ymd_hms(tweets_df$created)

tweets_per_time <- tweets_df %>%
mutate(hour = floor_date(created, "hour")) %>%
count(hour)

ggplot(tweets_per_time, aes(x = hour, y = n)) +
geom_line(color = "blue") +
labs(title = "Number of Tweets Over Time", x = "Time", y = "Number of Tweets") +
theme_minimal()
```

